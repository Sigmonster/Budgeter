@using Budgeter.Models
@model Household

<div class="panel-heading">
    <div class="text-center">
        <h3>Household Accounts</h3>
        <hr />
    </div>
</div>
<div class="panel-wrapper collapse in">
    <div class="table-responsive">
        <table class="table acc-table">
            <thead id="myHousehold-Accounts-tablehead">
                <tr>
                    <th style="vertical-align:middle">Account</th>
                    <th style="vertical-align:middle" class="text-center">
                        <div class="pull-left">
                            Available<br />Balance
                        </div>
                        <div class="col-md-2">
                            <a title="Available Balance Information" data-placement="auto top" data-toggle="popover" class="popover-info-anchor" data-content='<div class="text-center info-anchor-paneltext">The <b>Available Balance</b> is the calculated total of ALL <b>Active Transactions</b> that are not voided out(struck-thru). This includes Transactions that are either Processed and Pending.<br/ ><br/ ></div>' data-html="true"><i class="fa fa-info-circle infoIcon" aria-hidden="true"></i></a>
                        </div>
                    </th>
                    <th style="vertical-align:middle" class="text-center">
                        <div class="pull-left">
                            Reconciled<br />Balance
                        </div>
                        <div class="col-md-2">
                            <a title='Reconciled Balance Info' data-placement="auto top" data-toggle="popover" class="popover-info-anchor" data-content='<div class="text-center info-anchor-paneltext">The <b>Reconciled Balance</b> is the calculated total of ONLY <b>Active Transactions</b> that are labeled as <b>Processed</b> and not voided out(struck-thru). This does not included Transactions that are Pending.<br/ ><br/ ></div>' data-html="true"><i class="fa fa-info-circle infoIcon" aria-hidden="true"></i></a>
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody id="myHousehold-Accounts-tablebody">
                @foreach (var item in Model.Accounts.Where(x=>x.IsActive == true))
                {
                    <tr>
                        <td class="acc-name-td">@item.Name</td>
                        <td class="text-center">@item.Balance</td>
                        <td class="text-center">@item.ReconciledBalance</td>
                        <td>
                            <a title="" tabindex="0" data-placement="auto bottom" data-toggle="popover" data-trigger="focus" class="btn btn-default btn-outline waves-effect waves-light account-options" data-content='<ul role="menu" class="dropdown-menu" style="display:inline;"><li><a href="@Url.Action("Edit","Accounts", new {id = item.Id})">Edit</a></li><li><a href="@Url.Action("Details","Accounts", new {id = item.Id})">Go to</a></li><li><a href="@Url.Action("Delete","Accounts", new {id = item.Id})">Delete</a></li><li><a href="@Url.Action("Create", "Transactions")" class="">Add Transaction</a></li></ul><br/>' data-html="true"><i class="fa fa-gear m-r-5"></i></a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>